#N canvas 479 81 666 613 12;
#X obj 166 553 outlet;
#X obj 365 553 outlet;
#X obj 132 39 inlet;
#X obj 395 39 inlet;
#X obj 86 403 v last_\$0;
#X obj 132 300 > 0;
#X obj 49 329 r \$0-flush;
#X obj 196 176 v voice_\$0;
#X obj 196 151 - 1;
#X obj 132 275 array max order_\$0;
#X obj 343 288 array define notes_\$0 5;
#X obj 343 311 array define velocities_\$0 5;
#X obj 343 265 array define order_\$0 5;
#X obj 132 122 poly 5 1, f 38;
#X obj 132 151 t b b f;
#X obj 166 488 - 1;
#X obj 165 398 expr last_\$0 = notes_\$0[$f2] \; velocities_\$0[$f2];
#X obj 132 329 select 0 1;
#X msg 309 488 0;
#X obj 186 448 trigger float bang;
#X obj 381 521 v i_\$0;
#X obj 534 223 v on_\$0;
#X obj 534 201 > 0;
#X obj 502 175 t f f;
#X obj 155 207 expr order_\$0[voice_\$0] = (i_\$0 = i_\$0+1) * on_\$0 \; notes_\$0[voice_\$0] = ($f2 + 1) * on_\$0 \; velocities_\$0[voice_\$0] = $f3;
#N canvas 272 323 415 411 route 0;
#X obj 64 27 inlet;
#X obj 207 326 outlet;
#X obj 164 112 t b b;
#X obj 164 140 s \$0-flush;
#X obj 64 70 route float list flush clear, f 29;
#X obj 250 238 s velocities_\$0;
#X obj 267 216 s order_\$0;
#X obj 277 195 s notes_\$0;
#X msg 250 169 const 0;
#X msg 207 275 clear;
#X obj 250 107 b;
#X connect 0 0 4 0;
#X connect 2 0 3 0;
#X connect 2 1 10 0;
#X connect 4 0 1 0;
#X connect 4 1 1 0;
#X connect 4 2 2 0;
#X connect 4 3 10 0;
#X connect 8 0 6 0;
#X connect 8 0 7 0;
#X connect 8 0 5 0;
#X connect 9 0 1 0;
#X connect 10 0 9 0;
#X connect 10 0 8 0;
#X restore 132 90 pd route;
#X connect 2 0 25 0;
#X connect 3 0 13 1;
#X connect 4 0 19 0;
#X connect 5 0 17 0;
#X connect 6 0 4 0;
#X connect 8 0 7 0;
#X connect 9 0 5 0;
#X connect 9 1 16 1;
#X connect 13 0 14 0;
#X connect 13 1 24 1;
#X connect 13 2 23 0;
#X connect 14 0 9 0;
#X connect 14 1 24 0;
#X connect 14 2 8 0;
#X connect 15 0 0 0;
#X connect 16 0 15 0;
#X connect 16 1 1 0;
#X connect 17 0 4 0;
#X connect 17 1 16 0;
#X connect 18 0 1 0;
#X connect 18 0 20 0;
#X connect 19 0 15 0;
#X connect 19 1 18 0;
#X connect 22 0 21 0;
#X connect 23 0 24 2;
#X connect 23 1 22 0;
#X connect 25 0 13 0;
